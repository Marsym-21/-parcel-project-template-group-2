{"mappings":"oeAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,yGCEzD,MAAMC,EAAc,IAAI,EAFxBJ,EAAA,SAEwBK,aAAaC,GAAK,4B,MCF1CC,EAAiB,IAAAC,IAAoBR,EAAA,SAAAS,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WDG5F,MAAMC,EAAQ,IAAAN,IAAAD,GACd,IAAIQ,GAAqB,EACrBC,EAAa,GA+IEC,SAASC,cAAc,kBAC/BC,iBAAiB,SAAS,KACnCC,eAAeC,UAAUC,OAAO,aA/IlC,WACE,MAAMF,EAAiBH,SAASC,cAAc,oBAE9Cd,EACGmB,YACAC,MAAKC,IACJ,SAASC,EAAMC,GACb,MAAMC,EAAOH,EAAKI,UAClB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,GAAK,EAAG,CACvC,GAAIF,EAAKE,GAAGE,OAAS,GAAGL,IACtB,OAAOC,EAAKE,GAAGlB,IACNgB,EAAKE,GAAGE,I,EAMvB,SAASC,EAAWC,GAClB,MAAc,KAAVA,EACKA,EAEO,gB,CAKlBC,cAAgB,gNAICrB,sRASqBmB,EAAWR,EAAKW,+BAC7CH,EAAWR,EAAKY,mHAGSJ,EAAWR,EAAKY,uDACfJ,EAAWR,EAAKa,yEAG9CL,EAAWR,EAAKc,uKAMZb,EAAM,yLAOEZ,mKAORY,EAAM,gMAMDZ,6JAMLY,EAAM,sLAMMZ,qNAQlBW,EAAKnB,6DAKRc,EAAeoB,UAAYL,cAIPlB,SAASC,cAAc,oBAC/BC,iBAAiB,SAC7B,WACEC,EAAeC,UAAUoB,IAAI,aAC7BrB,EAAeC,UAAUC,OAAO,a,IAGlC,MAAMoB,EAAYzB,SAASC,cAAc,uBACzCwB,EAAUvB,iBAAiB,SAAS,KAClC,GAAIH,EAAW2B,SAASrC,IAAK,CAC3B,IAAIsC,EAAY5B,EAAW6B,QAAQ,cAUnC,OATA7B,EAAW8B,OAAOF,EAAW,GAC7BG,UAAY7C,KAAK8C,UAAUhC,GAE3B0B,EAAUO,YAAc,uBACxBlC,GAAqB,EAErB2B,EAAUrB,UAAUC,OAAO,YAC3B4B,QAAQC,IAAInC,QACZoC,aAAaC,QAAQ,KAAMN,U,CAG3B/B,EAAWsC,KAAKhD,IAChBoC,EAAUO,YAAc,gCACxBF,UAAY7C,KAAK8C,UAAUhC,GAC3BoC,aAAaC,QAAQ,KAAMN,WAC3BhC,GAAqB,EAErBmC,QAAQC,IAAInC,GACZ0B,EAAUrB,UAAUoB,IAAI,W,GAE1B,IAEHc,OAAMC,IACLN,QAAQC,IAAIK,EAAM,G,CAQtBC,EAAuB","sources":["node_modules/@parcel/runtime-js/lib/runtime-85946ecc67080aac.js","src/js/modalWindow.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"4b13B\\\":\\\"shopping-list.6454d388.js\\\",\\\"8OQ7p\\\":\\\"icons.3fcd0366.svg\\\"}\"));","import { getBookData } from './getBooksData.js';\n\nconst booksInform = new getBookData((id = '643282b1e85766588626a0b4'));\nconst logoPath = new URL('../images/icons.svg', import.meta.url);\nlet addedToShoppingBag = false;\nlet booksArray = [];\n\nfunction renderBookInformation() {\n  const modalContainer = document.querySelector('.modal-container');\n\n  booksInform\n    .getPromId()\n    .then(data => {\n      function links(sms) {\n        const link = data.buy_links;\n        for (let i = 0; i < link.length; i += 1) {\n          if (link[i].name === `${sms}`) {\n            return link[i].url;\n          } else if (link[i].name !== `${sms}`) {\n            continue;\n          }\n        }\n      }\n\n      function checkValue(value) {\n        if (value !== '') {\n          return value;\n        } else {\n          let message = 'No information';\n          return message;\n        }\n      }\n\n      categoryArray = `\n       <div class=\"modal-close__btn-wrapper\">\n      <button type='button' class='modal-close-btn js-modal-close-btn '>\n     <svg class=\"close\" fill=\"none\" width=\"30\" height=\"30\">\n          <use href=\"${logoPath}#icon-x-close\"></use>\n</svg>\n    \n       <path d=\"m8 8 14 14M8 22 22 8\" stroke=\"#000\" stroke-width=\"2\" />\n   </svg>\n      </button>\n      </div>\n      <div class ='modal-book'>\n      <div class='modal-book__img-container'>\n        <img class='modal-book__img' src='${checkValue(data.book_image)}' \n        alt='${checkValue(data.title)}'/>\n        </div>\n        <div class='modal-book__description'>\n        <h2 class=\"modal-book__title\">${checkValue(data.title)}</h2>\n        <p class =\"modal-book__author\">${checkValue(data.author)}</p>\n        <p class =\"modal-book__about\">\n      \n        \"${checkValue(data.description)}\"</p>\n        \n       <div class = 'modal-book__stores'>\n\n      <div class=\"modal-book__amazon\">\n       <a class=\"amazon__link link\"\n       href=\"${links('Amazon')}\"  \n   target=\"_blank\"\n   rel=\"noopener noreferrer\"\n   aria-label=\"amazon icon\"\n   >\n  \n   <svg class=\"book\" fill=\"none\" width=\"60\" height=\"60\">\n          <use href=\"${logoPath}#icon-amazon-ar21\"></use>\n</svg>\n\n   </a>\n       </div>\n       <div class =\"modal-book__applebook\">\n       <a class=\"applebook__link link\"\n       href=\"${links('Apple Books')}\"  \n   target=\"_blank\"\n   rel=\"noopener noreferrer\"\n   aria-label=\"Apple Book icon\"\n   >\n       <svg class=\"book\"  width=\"30\" height=\"30\" fill=\"none\">\n       <use href=\"${logoPath}#icon-apple-ibooks\"></use> \n       </svg>\n   </div>\n\n       <div class =\"modal-book__bookshop\">\n       <a class=\"bookshop__link link\"\n       href=\"${links('Bookshop')}\"  \n   target=\"_blank\"\n   rel=\"noopener noreferrer\"\n   aria-label=\"Bookshop icon\"\n   >\n       <svg class=\"book\"  width=\"40\" height=\"40\">\n              <use href=\"${logoPath}#icon-14008711\"></use>\n       </svg>\n       </div>\n       </div>\n       </div>\n       </div>\n       <div  class=\"modal-book__add__wrapper\">  \n       <button type=\"button\" class=\"modal-book__button\" id=\"${\n         data.id\n       }\">Add to shopping list</button>  \n   </div>  \n        `;\n\n      modalContainer.innerHTML = categoryArray;\n      // modalContainer.classList.remove('is-hidden');\n      // modalContainer.classList.add('modal-open');\n\n      const closeButton = document.querySelector('.modal-close-btn');\n      closeButton.addEventListener('click', closeBtn);\n      function closeBtn() {\n        modalContainer.classList.add('is-hidden');\n        modalContainer.classList.remove('modal-open');\n      }\n\n      const addButton = document.querySelector('.modal-book__button');\n      addButton.addEventListener('click', () => {\n        if (booksArray.includes(id)) {\n          let bookIndex = booksArray.indexOf('${data.id}');\n          booksArray.splice(bookIndex, 1);\n          stringKey = JSON.stringify(booksArray);\n\n          addButton.textContent = 'Add to shopping list';\n          addedToShoppingBag = false;\n\n          addButton.classList.remove('btn__add');\n          console.log(booksArray);\n          localStorage.setItem('id', stringKey);\n          return;\n        } else {\n          booksArray.push(id);\n          addButton.textContent = 'Remove from the shopping list';\n          stringKey = JSON.stringify(booksArray);\n          localStorage.setItem('id', stringKey);\n          addedToShoppingBag = true;\n\n          console.log(booksArray);\n          addButton.classList.add('btn__add');\n        }\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n// renderBookInformation()\n\nconst ourGallary = document.querySelector('.header-button');\nourGallary.addEventListener('click', () => {\n  modalContainer.classList.remove('is-hidden');\n  renderBookInformation();\n});\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["parcelRequire","register","JSON","parse","$11b40d08844f8749$var$booksInform","getBookData","id","$e27edc6dc33d0133$exports","URL","resolve","import","meta","url","toString","$11b40d08844f8749$var$logoPath","$11b40d08844f8749$var$addedToShoppingBag","$11b40d08844f8749$var$booksArray","document","querySelector","addEventListener","modalContainer","classList","remove","getPromId","then","data","links","sms","link","buy_links","i","length","name","checkValue","value","categoryArray","book_image","title","author","description","innerHTML","add","addButton","includes","bookIndex","indexOf","splice","stringKey","stringify","textContent","console","log","localStorage","setItem","push","catch","error","$11b40d08844f8749$var$renderBookInformation"],"version":3,"file":"shopping-list.6454d388.js.map"}